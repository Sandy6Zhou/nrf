/********************************************************************
**版权所有         深圳市几米物联有限公司
**文件名称:        my_lte.h
**文件描述:        LTE 模块通讯管理头文件 (XQ200U)
**当前版本:        V1.0
**作    者:        Harrison Wu (wuyujiao@jimiiot.com)
**完成日期:        2026.01.15
*********************************************************************
** 功能描述:        1. 处理与 XQ200U LTE 模块的 UART 通讯
**                 2. 提供 LTE 模块电源控制接口
**                 3. 支持异步 UART 数据收发
*********************************************************************/

#ifndef _MY_LTE_H_
#define _MY_LTE_H_

#include <stdbool.h>
#include <stddef.h>
#include <zephyr/kernel.h>
#include <zephyr/types.h>

/* LTE 模块 UART 缓冲区大小 */
#define LTE_UART_BUF_SIZE 256

/********************************************************************
**函数名称:  my_lte_init
**入口参数:  tid      ---        指向线程 ID 变量的指针
**出口参数:  tid      ---        存储启动后的线程 ID
**函数功能:  初始化 LTE 模块相关的 UART 设备与电源控制 GPIO，并启动 LTE 线程
**返 回 值:  0 表示成功，其他表示失败
*********************************************************************/
int my_lte_init(k_tid_t *tid);

/********************************************************************
**函数名称:  my_lte_send
**入口参数:  data     ---        待发送数据指针
**            len      ---        数据长度
**出口参数:  无
**函数功能:  通过 UART 向 LTE 模块发送数据
**返 回 值:  0 表示成功，其他表示失败
*********************************************************************/
int my_lte_send(const uint8_t *data, uint16_t len);

/********************************************************************
**函数名称:  my_lte_pwr_on
**入口参数:  on       ---        true 为开启电源，false 为关闭
**出口参数:  无
**函数功能:  控制 LTE 模块的电源使能引脚 (P2.02)
**返 回 值:  0 表示成功，其他表示失败
*********************************************************************/
int my_lte_pwr_on(bool on);

#endif /* _MY_LTE_H_ */
