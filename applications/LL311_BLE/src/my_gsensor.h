/********************************************************************
**版权所有         深圳市几米物联有限公司
**文件名称:        my_gsensor.h
**文件描述:        G-Sensor 管理模块头文件 (LSM6DSV16X)
**当前版本:        V1.0
**作    者:        Harrison Wu (wuyujiao@jimiiot.com)
**完成日期:        2026.01.15
*********************************************************************
** 功能描述:        1. 提供 LSM6DSV16X 操作接口
**                 2. 提供三轴数据读取与电源管理功能
*********************************************************************/

#ifndef _MY_GSENSOR_H_
#define _MY_GSENSOR_H_

/* 三轴数据结构体 */
struct gsensor_data
{
    int16_t x;
    int16_t y;
    int16_t z;
};

/********************************************************************
**函数名称:  my_gsensor_init
**入口参数:  tid      ---        指向线程 ID 变量的指针
**出口参数:  tid      ---        存储启动后的线程 ID
**函数功能:  初始化 G-Sensor 相关的 I2C 设备与 GPIO 引脚，并启动 G-Sensor 线程
**返 回 值:  0 表示成功，负值表示失败
*********************************************************************/
int my_gsensor_init(k_tid_t *tid);

/********************************************************************
**函数名称:  my_gsensor_pwr_on
**入口参数:  on       ---        true 开启，false 关闭
**出口参数:  无
**函数功能:  控制 G-Sensor 的电源 (P2.6)
**返 回 值:  0 表示成功
*********************************************************************/
int my_gsensor_pwr_on(bool on);

/********************************************************************
**函数名称:  my_gsensor_read_data
**入口参数:  无
**出口参数:  data     ---        存储读取到的三轴数据
**函数功能:  读取当前加速度传感器的三轴原始数据
**返 回 值:  0 表示成功，负值表示失败
*********************************************************************/
int my_gsensor_read_data(struct gsensor_data *data);

#endif /* _MY_GSENSOR_H_ */
